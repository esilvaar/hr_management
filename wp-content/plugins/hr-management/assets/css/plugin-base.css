/* Checkbox custom verde para departamentos a cargo */
#deptos_checkboxes .form-check-input[type="checkbox"] {
    position: relative;
    width: 1.2em;
    height: 1.2em;
    margin-right: 0.5em;
    cursor: pointer;
    appearance: none;
    -webkit-appearance: none;
    background: #fff;
    border: 2px solid #537345;
    border-radius: 0.25em;
    outline: none;
    transition: border-color 0.2s, box-shadow 0.2s;
    vertical-align: middle;
}

#deptos_checkboxes .form-check-input[type="checkbox"]:checked {
    background: #537345;
    border-color: #537345;
}

#deptos_checkboxes .form-check-input[type="checkbox"]:checked::after {
    content: '';
    display: block;
    position: absolute;
    left: 0.32em;
    top: 0.08em;
    width: 0.3em;
    height: 0.6em;
    border: solid #fff;
    border-width: 0 0.18em 0.18em 0;
    transform: rotate(45deg);
}

#deptos_checkboxes .form-check-input[type="checkbox"]:focus {
    box-shadow: 0 0 0 2px #d1d9c1;
}
/* Color personalizado para el check de los checkboxes en Departamentos a Cargo */
#deptos_checkboxes input[type="checkbox"]:checked {
    accent-color: #537345;
}
/**
 * Estilos Generales - HR Management Plugin
 * Correcciones y mejoras de Bootstrap
 */

/* ============================================================
 * FIX: Card Header - Ancho Completo
 * ============================================================ */

/* Remover el padding de la card para que los headers lleguen al borde */
.hrm-content .card {
    padding: 0 !important;
    overflow: hidden;
}

/* Evitar que el overflow:hidden de cards aísle stacking contexts del sidebar */
.hrm-sidebar .card {
    overflow: visible;
}

/* Asegurar que card-header ocupe todo el ancho sin márgenes */
.card > .card-header {
    margin: 0 !important;
    margin-left: 0 !important;
    margin-right: 0 !important;
    border-radius: 0 !important;
    width: 100%;
}

/* El primer elemento (header) debe tener border-radius superior */
.card > .card-header:first-child {
    border-top-left-radius: calc(var(--bs-border-radius, 0.375rem) - 1px) !important;
    border-top-right-radius: calc(var(--bs-border-radius, 0.375rem) - 1px) !important;
}

/* Asegurar que card-body tenga padding apropiado */
.card > .card-body {
    padding: 1.5rem !important;
    margin: 0;
}

/* Fix para nav-tabs dentro de cards */
.card > .nav-tabs {
    margin: 0;
    border-radius: 0;
}

/* Fix específico para cards con shadow */
.card.shadow-sm,
.card.shadow {
    overflow: hidden;
}

/* ============================================================
 * FIX: Cards dentro de hrm-content/hrm-admin-panel
 * ============================================================ */

/* Compensar el padding del contenedor padre */
.hrm-content .card.mx-auto,
.hrm-admin-panel .card.mx-auto {
    margin-left: auto !important;
    margin-right: auto !important;
}

/* Asegurar que cards con max-width inline no hereden padding */
.card[style*="max-width"] {
    box-sizing: border-box;
}

/* ============================================================
 * MEJORAS DE LAYOUT
 * ============================================================ */

/* Centrar cards con max-width */
.card.mx-auto {
    display: block;
}

/* ============================================================
 * RESPONSIVE FIXES
 * ============================================================ */

@media (max-width: 768px) {
    .card > .card-body {
        padding: 1rem !important;
    }
}

/* ============================================================
 * MODALS - Fix z-index para aparecer sobre la barra de admin
 * ============================================================ */

.modal {
    z-index: 200000 !important;
}

.modal-backdrop {
    z-index: 199999 !important;
}
/* ============================================================
 * Estilos para Checkboxes Personalizados
 * ============================================================ */
.form-check-input#hrm_crear_usuario_wp,
#hrm_deptos_checkboxes .form-check-input[type="checkbox"],
#deptos_checkboxes .form-check-input[type="checkbox"] {
    position: relative !important;
    width: 1.2em !important;
    height: 1.2em !important;
    margin-right: 0.5em !important;
    cursor: pointer !important;
    appearance: none !important;
    -webkit-appearance: none !important;
    background: #fff !important;
    border: 2px solid #537345 !important;
    border-radius: 0.25em !important;
    outline: none !important;
    transition: border-color 0.2s, background-color 0.2s, box-shadow 0.2s !important;
    vertical-align: middle !important;
}

.form-check-input#hrm_crear_usuario_wp:checked,
#hrm_deptos_checkboxes .form-check-input[type="checkbox"]:checked,
#deptos_checkboxes .form-check-input[type="checkbox"]:checked {
    background: #537345 !important;
    border-color: #537345 !important;
}

.form-check-input#hrm_crear_usuario_wp:checked::after,
#hrm_deptos_checkboxes .form-check-input[type="checkbox"]:checked::after,
#deptos_checkboxes .form-check-input[type="checkbox"]:checked::after {
    content: '' !important;
    display: block !important;
    position: absolute !important;
    left: 0.32em !important;
    top: 0.08em !important;
    width: 0.3em !important;
    height: 0.6em !important;
    border: solid #fff !important;
    border-width: 0 0.18em 0.18em 0 !important;
    transform: rotate(45deg) !important;
}

.form-check-input#hrm_crear_usuario_wp:focus,
#hrm_deptos_checkboxes .form-check-input[type="checkbox"]:focus,
#deptos_checkboxes .form-check-input[type="checkbox"]:focus {
    box-shadow: 0 0 0 2px #d1d9c1 !important;
    border-color: #537345 !important;
}

.form-check-input#hrm_crear_usuario_wp:hover:not(:disabled),
#hrm_deptos_checkboxes .form-check-input[type="checkbox"]:hover:not(:disabled),
#deptos_checkboxes .form-check-input[type="checkbox"]:hover:not(:disabled) {
    border-color: #537345 !important;
    background-color: #f5f5f5 !important;
}

.form-check-input#hrm_crear_usuario_wp:checked,
#hrm_deptos_checkboxes input[type="checkbox"]:checked,
#deptos_checkboxes input[type="checkbox"]:checked {
    accent-color: #537345 !important;
}
/* ============================================================
 * HRM UTILITIES - Shared reusable small components
 * Moved here to avoid duplication across per-view CSS files.
 * Keep per-view files for large/specific styles only.
 * ============================================================ */

/* Simple two-column grid utility */
.hrm-grid-two { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; }

/* Small uppercase sign/title used in forms */
.hrm-sign-title { text-align: center; font-weight: bold; font-size: 12px; text-transform: uppercase; margin-bottom: 10px; }

/* Generic helper class to hide elements */
.hrm-hidden { display: none !important; }

/* Document preview iframe (used across document views) */
.hrm-preview-iframe { width: 100%; min-height: 600px; border: 1px solid #ccc; background: #fff; }

/* Success modal used in various views */
.hrm-success-modal { position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); background: var(--mp-modal-surface, #ffffff); border-radius: 12px; box-shadow: var(--mp-modal-shadow, 0 10px 40px rgba(0,0,0,0.3)); padding: 40px; max-width: 500px; width: 90%; z-index: 10000; text-align: center; }
.hrm-success-modal .hrm-success-icon { font-size: 60px; margin-bottom: 20px; }
.hrm-success-modal .hrm-success-title { color: var(--mp-success, #4caf50); margin: 0 0 15px 0; font-size: 28px; }
.hrm-success-modal .hrm-success-text { color: var(--mp-text-muted, #666666); margin: 0 0 20px 0; line-height: 1.6; }
.hrm-success-modal .hrm-success-small { color: var(--mp-text-muted-2, #999999); margin: 0 0 20px 0; font-size: 14px; }
.hrm-success-modal .hrm-success-button, .hrm-success-button { background: var(--mp-success, #4caf50); color: var(--mp-modal-text, #ffffff); border: none; padding: 12px 30px; border-radius: 6px; font-weight: bold; cursor: pointer; font-size: 16px; }
.hrm-success-backdrop { position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: var(--mp-backdrop, rgba(0,0,0,0.5)); z-index: 9999; cursor: pointer; }

/* ============================================================
 * FIX Z-INDEX LAYOUT (Sidebar Clickability)
 * ============================================================ */
.hrm-admin-layout {
    position: relative;
    z-index: 0;
}

.hrm-sidebar {
    position: sticky !important;
    z-index: 200000 !important; /* Force above any accidental overlays in content */
    pointer-events: auto !important;
}

.hrm-content {
    position: relative !important;
    z-index: 1 !important; /* Explicit stacking context, lower than sidebar */
    width: auto !important;
    min-width: 0 !important; /* Avoid overflow that can cover the sidebar */
}

/* ============================================================
 * FULLSCREEN MODE OVERRIDES (Non-admin users)
 * Ensure content does NOT cover sidebar
 * ============================================================ */
body.hrm-fullscreen-mode .hrm-sidebar {
    position: fixed !important;
    top: 0 !important;
    left: 0 !important;
    height: 100vh !important;
    width: 280px !important;
    transform: none !important;
    z-index: 200000 !important;
    pointer-events: auto !important;
    opacity: 1 !important;
    visibility: visible !important;
}

body.hrm-fullscreen-mode.hrm-sidebar-detached .hrm-sidebar {
    top: 0 !important;
}

body.hrm-fullscreen-mode .hrm-content {
    position: relative !important;
    left: auto !important;
    margin-left: 280px !important;
    width: calc(100% - 280px) !important;
    height: auto !important;
    z-index: 1 !important;
    padding-left: 16px !important;
    padding-right: 16px !important;
}


/* ============================================================
 * FIX MIS VACACIONES (Gerencia) - Sidebar Always Clickable
 * ============================================================ */
@media (min-width: 992px) {
    .hrm-vacaciones-page .hrm-admin-layout {
        position: relative;
    }

    .hrm-vacaciones-page .hrm-sidebar {
        position: fixed !important;
        top: 32px !important;
        left: 0 !important;
        height: calc(100vh - 32px) !important;
        width: 280px !important;
        z-index: 200000 !important;
        pointer-events: auto !important;
    }

    .hrm-vacaciones-page .hrm-content {
        padding-left: 16px !important;
        padding-right: 16px !important;
    }
}
